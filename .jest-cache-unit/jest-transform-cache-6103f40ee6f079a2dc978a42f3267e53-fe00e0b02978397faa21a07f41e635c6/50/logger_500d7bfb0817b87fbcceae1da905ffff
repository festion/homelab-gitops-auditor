e7a958583c45ae6cdb5c8ce50752f579
const fs = require('fs').promises;
const path = require('path');
const {
  createWriteStream
} = require('fs');
const {
  Transform
} = require('stream');
class Logger {
  constructor(options = {}) {
    this.level = options.level || 'info';
    this.format = options.format || 'json';
    this.destinations = options.destinations || ['console'];
    this.logFile = options.logFile || null;
    this.maxSize = options.maxSize || '100MB';
    this.retention = options.retention || 30;
    this.levels = {
      error: 0,
      warn: 1,
      info: 2,
      debug: 3,
      trace: 4
    };
    this.colors = {
      error: '\x1b[31m',
      warn: '\x1b[33m',
      info: '\x1b[36m',
      debug: '\x1b[35m',
      trace: '\x1b[37m',
      reset: '\x1b[0m'
    };
    this.fileStream = null;
    this.currentLogSize = 0;
    this.initializeFileLogging();
  }
  async initializeFileLogging() {
    if (this.destinations.includes('file') && this.logFile) {
      try {
        // Ensure log directory exists
        const logDir = path.dirname(this.logFile);
        await fs.mkdir(logDir, {
          recursive: true
        });

        // Check current log file size
        try {
          const stats = await fs.stat(this.logFile);
          this.currentLogSize = stats.size;
        } catch (error) {
          // File doesn't exist, will be created
          this.currentLogSize = 0;
        }

        // Create write stream
        this.fileStream = createWriteStream(this.logFile, {
          flags: 'a'
        });
        this.fileStream.on('error', error => {
          console.error('Logger file stream error:', error);
        });
      } catch (error) {
        console.error('Failed to initialize file logging:', error);
      }
    }
  }
  shouldLog(level) {
    return this.levels[level] <= this.levels[this.level];
  }
  formatMessage(level, message, metadata = {}) {
    const timestamp = new Date().toISOString();
    const logEntry = {
      timestamp,
      level: level.toUpperCase(),
      message,
      ...metadata
    };
    if (this.format === 'json') {
      return JSON.stringify(logEntry);
    } else {
      const metaStr = Object.keys(metadata).length > 0 ? ` ${JSON.stringify(metadata)}` : '';
      return `${timestamp} [${level.toUpperCase()}] ${message}${metaStr}`;
    }
  }
  formatConsoleMessage(level, message, metadata = {}) {
    const timestamp = new Date().toISOString();
    const color = this.colors[level] || '';
    const reset = this.colors.reset;
    const metaStr = Object.keys(metadata).length > 0 ? ` ${JSON.stringify(metadata, null, 2)}` : '';
    return `${color}${timestamp} [${level.toUpperCase()}]${reset} ${message}${metaStr}`;
  }
  async log(level, message, metadata = {}) {
    if (!this.shouldLog(level)) {
      return;
    }
    try {
      // Console output
      if (this.destinations.includes('console')) {
        const consoleMessage = this.formatConsoleMessage(level, message, metadata);
        if (level === 'error') {
          console.error(consoleMessage);
        } else if (level === 'warn') {
          console.warn(consoleMessage);
        } else {
          console.log(consoleMessage);
        }
      }

      // File output
      if (this.destinations.includes('file') && this.fileStream) {
        const fileMessage = this.formatMessage(level, message, metadata);
        const logLine = fileMessage + '\n';

        // Check if log rotation is needed
        if (this.needsRotation(logLine.length)) {
          await this.rotateLog();
        }
        this.fileStream.write(logLine);
        this.currentLogSize += Buffer.byteLength(logLine);
      }
    } catch (error) {
      console.error('Logging error:', error);
    }
  }
  needsRotation(messageSize) {
    if (!this.maxSize) return false;
    const maxBytes = this.parseSize(this.maxSize);
    return this.currentLogSize + messageSize > maxBytes;
  }
  parseSize(sizeStr) {
    const units = {
      'B': 1,
      'KB': 1024,
      'MB': 1024 * 1024,
      'GB': 1024 * 1024 * 1024
    };
    const match = sizeStr.match(/^(\d+)(B|KB|MB|GB)?$/i);
    if (!match) return 100 * 1024 * 1024; // Default 100MB

    const value = parseInt(match[1]);
    const unit = match[2] ? match[2].toUpperCase() : 'B';
    return value * (units[unit] || 1);
  }
  async rotateLog() {
    if (!this.fileStream || !this.logFile) return;
    try {
      // Close current stream
      this.fileStream.end();

      // Rotate file
      const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
      const rotatedFile = `${this.logFile}.${timestamp}`;
      await fs.rename(this.logFile, rotatedFile);

      // Create new stream
      this.fileStream = createWriteStream(this.logFile, {
        flags: 'a'
      });
      this.currentLogSize = 0;

      // Clean up old logs
      await this.cleanupOldLogs();
    } catch (error) {
      console.error('Log rotation failed:', error);
    }
  }
  async cleanupOldLogs() {
    if (!this.logFile || !this.retention) return;
    try {
      const logDir = path.dirname(this.logFile);
      const baseName = path.basename(this.logFile);
      const files = await fs.readdir(logDir);
      const logFiles = files.filter(file => file.startsWith(baseName) && file !== baseName).map(file => path.join(logDir, file));
      const cutoffDate = new Date();
      cutoffDate.setDate(cutoffDate.getDate() - this.retention);
      for (const file of logFiles) {
        try {
          const stats = await fs.stat(file);
          if (stats.mtime < cutoffDate) {
            await fs.unlink(file);
          }
        } catch (error) {
          // Ignore errors for individual files
        }
      }
    } catch (error) {
      console.error('Log cleanup failed:', error);
    }
  }
  error(message, metadata = {}) {
    return this.log('error', message, metadata);
  }
  warn(message, metadata = {}) {
    return this.log('warn', message, metadata);
  }
  info(message, metadata = {}) {
    return this.log('info', message, metadata);
  }
  debug(message, metadata = {}) {
    return this.log('debug', message, metadata);
  }
  trace(message, metadata = {}) {
    return this.log('trace', message, metadata);
  }
  child(metadata = {}) {
    return new ChildLogger(this, metadata);
  }
  createRequestLogger(req, res, next) {
    const startTime = Date.now();
    const requestId = req.correlationId || 'unknown';
    const requestLogger = this.child({
      requestId,
      method: req.method,
      url: req.url,
      userAgent: req.get('User-Agent'),
      ip: req.ip
    });
    requestLogger.info('Request started');
    const originalSend = res.send;
    res.send = function (body) {
      const duration = Date.now() - startTime;
      requestLogger.info('Request completed', {
        statusCode: res.statusCode,
        duration,
        responseSize: Buffer.byteLength(body || '')
      });
      return originalSend.call(this, body);
    };
    req.logger = requestLogger;
    next();
  }
  async getLogStats() {
    const stats = {
      level: this.level,
      format: this.format,
      destinations: this.destinations,
      fileLogging: !!this.logFile
    };
    if (this.logFile) {
      try {
        const fileStats = await fs.stat(this.logFile);
        stats.logFile = {
          path: this.logFile,
          size: fileStats.size,
          modified: fileStats.mtime
        };
      } catch (error) {
        stats.logFile = {
          path: this.logFile,
          error: error.message
        };
      }
    }
    return stats;
  }
  setLevel(level) {
    if (this.levels.hasOwnProperty(level)) {
      this.level = level;
      this.info('Log level changed', {
        newLevel: level
      });
    } else {
      throw new Error(`Invalid log level: ${level}. Valid levels: ${Object.keys(this.levels).join(', ')}`);
    }
  }
  async close() {
    if (this.fileStream) {
      return new Promise(resolve => {
        this.fileStream.end(() => {
          this.fileStream = null;
          resolve();
        });
      });
    }
  }
}
class ChildLogger {
  constructor(parent, metadata = {}) {
    this.parent = parent;
    this.metadata = metadata;
  }
  log(level, message, additionalMetadata = {}) {
    const combinedMetadata = {
      ...this.metadata,
      ...additionalMetadata
    };
    return this.parent.log(level, message, combinedMetadata);
  }
  error(message, metadata = {}) {
    return this.log('error', message, metadata);
  }
  warn(message, metadata = {}) {
    return this.log('warn', message, metadata);
  }
  info(message, metadata = {}) {
    return this.log('info', message, metadata);
  }
  debug(message, metadata = {}) {
    return this.log('debug', message, metadata);
  }
  trace(message, metadata = {}) {
    return this.log('trace', message, metadata);
  }
  child(additionalMetadata = {}) {
    const combinedMetadata = {
      ...this.metadata,
      ...additionalMetadata
    };
    return new ChildLogger(this.parent, combinedMetadata);
  }
}
module.exports = Logger;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwcm9taXNlcyIsInBhdGgiLCJjcmVhdGVXcml0ZVN0cmVhbSIsIlRyYW5zZm9ybSIsIkxvZ2dlciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImxldmVsIiwiZm9ybWF0IiwiZGVzdGluYXRpb25zIiwibG9nRmlsZSIsIm1heFNpemUiLCJyZXRlbnRpb24iLCJsZXZlbHMiLCJlcnJvciIsIndhcm4iLCJpbmZvIiwiZGVidWciLCJ0cmFjZSIsImNvbG9ycyIsInJlc2V0IiwiZmlsZVN0cmVhbSIsImN1cnJlbnRMb2dTaXplIiwiaW5pdGlhbGl6ZUZpbGVMb2dnaW5nIiwiaW5jbHVkZXMiLCJsb2dEaXIiLCJkaXJuYW1lIiwibWtkaXIiLCJyZWN1cnNpdmUiLCJzdGF0cyIsInN0YXQiLCJzaXplIiwiZmxhZ3MiLCJvbiIsImNvbnNvbGUiLCJzaG91bGRMb2ciLCJmb3JtYXRNZXNzYWdlIiwibWVzc2FnZSIsIm1ldGFkYXRhIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibG9nRW50cnkiLCJ0b1VwcGVyQ2FzZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXRhU3RyIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImZvcm1hdENvbnNvbGVNZXNzYWdlIiwiY29sb3IiLCJsb2ciLCJjb25zb2xlTWVzc2FnZSIsImZpbGVNZXNzYWdlIiwibG9nTGluZSIsIm5lZWRzUm90YXRpb24iLCJyb3RhdGVMb2ciLCJ3cml0ZSIsIkJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJtZXNzYWdlU2l6ZSIsIm1heEJ5dGVzIiwicGFyc2VTaXplIiwic2l6ZVN0ciIsInVuaXRzIiwibWF0Y2giLCJ2YWx1ZSIsInBhcnNlSW50IiwidW5pdCIsImVuZCIsInJlcGxhY2UiLCJyb3RhdGVkRmlsZSIsInJlbmFtZSIsImNsZWFudXBPbGRMb2dzIiwiYmFzZU5hbWUiLCJiYXNlbmFtZSIsImZpbGVzIiwicmVhZGRpciIsImxvZ0ZpbGVzIiwiZmlsdGVyIiwiZmlsZSIsInN0YXJ0c1dpdGgiLCJtYXAiLCJqb2luIiwiY3V0b2ZmRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwibXRpbWUiLCJ1bmxpbmsiLCJjaGlsZCIsIkNoaWxkTG9nZ2VyIiwiY3JlYXRlUmVxdWVzdExvZ2dlciIsInJlcSIsInJlcyIsIm5leHQiLCJzdGFydFRpbWUiLCJub3ciLCJyZXF1ZXN0SWQiLCJjb3JyZWxhdGlvbklkIiwicmVxdWVzdExvZ2dlciIsIm1ldGhvZCIsInVybCIsInVzZXJBZ2VudCIsImdldCIsImlwIiwib3JpZ2luYWxTZW5kIiwic2VuZCIsImJvZHkiLCJkdXJhdGlvbiIsInN0YXR1c0NvZGUiLCJyZXNwb25zZVNpemUiLCJjYWxsIiwibG9nZ2VyIiwiZ2V0TG9nU3RhdHMiLCJmaWxlTG9nZ2luZyIsImZpbGVTdGF0cyIsIm1vZGlmaWVkIiwic2V0TGV2ZWwiLCJoYXNPd25Qcm9wZXJ0eSIsIm5ld0xldmVsIiwiRXJyb3IiLCJjbG9zZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicGFyZW50IiwiYWRkaXRpb25hbE1ldGFkYXRhIiwiY29tYmluZWRNZXRhZGF0YSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJsb2dnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHsgY3JlYXRlV3JpdGVTdHJlYW0gfSA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCB7IFRyYW5zZm9ybSB9ID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5cbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubGV2ZWwgPSBvcHRpb25zLmxldmVsIHx8ICdpbmZvJztcbiAgICB0aGlzLmZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8ICdqc29uJztcbiAgICB0aGlzLmRlc3RpbmF0aW9ucyA9IG9wdGlvbnMuZGVzdGluYXRpb25zIHx8IFsnY29uc29sZSddO1xuICAgIHRoaXMubG9nRmlsZSA9IG9wdGlvbnMubG9nRmlsZSB8fCBudWxsO1xuICAgIHRoaXMubWF4U2l6ZSA9IG9wdGlvbnMubWF4U2l6ZSB8fCAnMTAwTUInO1xuICAgIHRoaXMucmV0ZW50aW9uID0gb3B0aW9ucy5yZXRlbnRpb24gfHwgMzA7XG4gICAgXG4gICAgdGhpcy5sZXZlbHMgPSB7XG4gICAgICBlcnJvcjogMCxcbiAgICAgIHdhcm46IDEsXG4gICAgICBpbmZvOiAyLFxuICAgICAgZGVidWc6IDMsXG4gICAgICB0cmFjZTogNFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5jb2xvcnMgPSB7XG4gICAgICBlcnJvcjogJ1xceDFiWzMxbScsXG4gICAgICB3YXJuOiAnXFx4MWJbMzNtJywgXG4gICAgICBpbmZvOiAnXFx4MWJbMzZtJyxcbiAgICAgIGRlYnVnOiAnXFx4MWJbMzVtJyxcbiAgICAgIHRyYWNlOiAnXFx4MWJbMzdtJyxcbiAgICAgIHJlc2V0OiAnXFx4MWJbMG0nXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmZpbGVTdHJlYW0gPSBudWxsO1xuICAgIHRoaXMuY3VycmVudExvZ1NpemUgPSAwO1xuICAgIFxuICAgIHRoaXMuaW5pdGlhbGl6ZUZpbGVMb2dnaW5nKCk7XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplRmlsZUxvZ2dpbmcoKSB7XG4gICAgaWYgKHRoaXMuZGVzdGluYXRpb25zLmluY2x1ZGVzKCdmaWxlJykgJiYgdGhpcy5sb2dGaWxlKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBFbnN1cmUgbG9nIGRpcmVjdG9yeSBleGlzdHNcbiAgICAgICAgY29uc3QgbG9nRGlyID0gcGF0aC5kaXJuYW1lKHRoaXMubG9nRmlsZSk7XG4gICAgICAgIGF3YWl0IGZzLm1rZGlyKGxvZ0RpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBjdXJyZW50IGxvZyBmaWxlIHNpemVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IGZzLnN0YXQodGhpcy5sb2dGaWxlKTtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRMb2dTaXplID0gc3RhdHMuc2l6ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBGaWxlIGRvZXNuJ3QgZXhpc3QsIHdpbGwgYmUgY3JlYXRlZFxuICAgICAgICAgIHRoaXMuY3VycmVudExvZ1NpemUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgd3JpdGUgc3RyZWFtXG4gICAgICAgIHRoaXMuZmlsZVN0cmVhbSA9IGNyZWF0ZVdyaXRlU3RyZWFtKHRoaXMubG9nRmlsZSwgeyBmbGFnczogJ2EnIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5maWxlU3RyZWFtLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2dlciBmaWxlIHN0cmVhbSBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGZpbGUgbG9nZ2luZzonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2hvdWxkTG9nKGxldmVsKSB7XG4gICAgcmV0dXJuIHRoaXMubGV2ZWxzW2xldmVsXSA8PSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXTtcbiAgfVxuXG4gIGZvcm1hdE1lc3NhZ2UobGV2ZWwsIG1lc3NhZ2UsIG1ldGFkYXRhID0ge30pIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgXG4gICAgY29uc3QgbG9nRW50cnkgPSB7XG4gICAgICB0aW1lc3RhbXAsXG4gICAgICBsZXZlbDogbGV2ZWwudG9VcHBlckNhc2UoKSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICAuLi5tZXRhZGF0YVxuICAgIH07XG4gICAgXG4gICAgaWYgKHRoaXMuZm9ybWF0ID09PSAnanNvbicpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShsb2dFbnRyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1ldGFTdHIgPSBPYmplY3Qua2V5cyhtZXRhZGF0YSkubGVuZ3RoID4gMCBcbiAgICAgICAgPyBgICR7SlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpfWAgXG4gICAgICAgIDogJyc7XG4gICAgICByZXR1cm4gYCR7dGltZXN0YW1wfSBbJHtsZXZlbC50b1VwcGVyQ2FzZSgpfV0gJHttZXNzYWdlfSR7bWV0YVN0cn1gO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1hdENvbnNvbGVNZXNzYWdlKGxldmVsLCBtZXNzYWdlLCBtZXRhZGF0YSA9IHt9KSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jb2xvcnNbbGV2ZWxdIHx8ICcnO1xuICAgIGNvbnN0IHJlc2V0ID0gdGhpcy5jb2xvcnMucmVzZXQ7XG4gICAgXG4gICAgY29uc3QgbWV0YVN0ciA9IE9iamVjdC5rZXlzKG1ldGFkYXRhKS5sZW5ndGggPiAwIFxuICAgICAgPyBgICR7SlNPTi5zdHJpbmdpZnkobWV0YWRhdGEsIG51bGwsIDIpfWAgXG4gICAgICA6ICcnO1xuICAgIFxuICAgIHJldHVybiBgJHtjb2xvcn0ke3RpbWVzdGFtcH0gWyR7bGV2ZWwudG9VcHBlckNhc2UoKX1dJHtyZXNldH0gJHttZXNzYWdlfSR7bWV0YVN0cn1gO1xuICB9XG5cbiAgYXN5bmMgbG9nKGxldmVsLCBtZXNzYWdlLCBtZXRhZGF0YSA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLnNob3VsZExvZyhsZXZlbCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnNvbGUgb3V0cHV0XG4gICAgICBpZiAodGhpcy5kZXN0aW5hdGlvbnMuaW5jbHVkZXMoJ2NvbnNvbGUnKSkge1xuICAgICAgICBjb25zdCBjb25zb2xlTWVzc2FnZSA9IHRoaXMuZm9ybWF0Q29uc29sZU1lc3NhZ2UobGV2ZWwsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGxldmVsID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihjb25zb2xlTWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09ICd3YXJuJykge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihjb25zb2xlTWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coY29uc29sZU1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpbGUgb3V0cHV0XG4gICAgICBpZiAodGhpcy5kZXN0aW5hdGlvbnMuaW5jbHVkZXMoJ2ZpbGUnKSAmJiB0aGlzLmZpbGVTdHJlYW0pIHtcbiAgICAgICAgY29uc3QgZmlsZU1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UobGV2ZWwsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgICAgICAgY29uc3QgbG9nTGluZSA9IGZpbGVNZXNzYWdlICsgJ1xcbic7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBsb2cgcm90YXRpb24gaXMgbmVlZGVkXG4gICAgICAgIGlmICh0aGlzLm5lZWRzUm90YXRpb24obG9nTGluZS5sZW5ndGgpKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yb3RhdGVMb2coKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5maWxlU3RyZWFtLndyaXRlKGxvZ0xpbmUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2dTaXplICs9IEJ1ZmZlci5ieXRlTGVuZ3RoKGxvZ0xpbmUpO1xuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2dpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIG5lZWRzUm90YXRpb24obWVzc2FnZVNpemUpIHtcbiAgICBpZiAoIXRoaXMubWF4U2l6ZSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IG1heEJ5dGVzID0gdGhpcy5wYXJzZVNpemUodGhpcy5tYXhTaXplKTtcbiAgICByZXR1cm4gKHRoaXMuY3VycmVudExvZ1NpemUgKyBtZXNzYWdlU2l6ZSkgPiBtYXhCeXRlcztcbiAgfVxuXG4gIHBhcnNlU2l6ZShzaXplU3RyKSB7XG4gICAgY29uc3QgdW5pdHMgPSB7XG4gICAgICAnQic6IDEsXG4gICAgICAnS0InOiAxMDI0LFxuICAgICAgJ01CJzogMTAyNCAqIDEwMjQsXG4gICAgICAnR0InOiAxMDI0ICogMTAyNCAqIDEwMjRcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG1hdGNoID0gc2l6ZVN0ci5tYXRjaCgvXihcXGQrKShCfEtCfE1CfEdCKT8kL2kpO1xuICAgIGlmICghbWF0Y2gpIHJldHVybiAxMDAgKiAxMDI0ICogMTAyNDsgLy8gRGVmYXVsdCAxMDBNQlxuICAgIFxuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIGNvbnN0IHVuaXQgPSBtYXRjaFsyXSA/IG1hdGNoWzJdLnRvVXBwZXJDYXNlKCkgOiAnQic7XG4gICAgXG4gICAgcmV0dXJuIHZhbHVlICogKHVuaXRzW3VuaXRdIHx8IDEpO1xuICB9XG5cbiAgYXN5bmMgcm90YXRlTG9nKCkge1xuICAgIGlmICghdGhpcy5maWxlU3RyZWFtIHx8ICF0aGlzLmxvZ0ZpbGUpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQ2xvc2UgY3VycmVudCBzdHJlYW1cbiAgICAgIHRoaXMuZmlsZVN0cmVhbS5lbmQoKTtcbiAgICAgIFxuICAgICAgLy8gUm90YXRlIGZpbGVcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9bOi5dL2csICctJyk7XG4gICAgICBjb25zdCByb3RhdGVkRmlsZSA9IGAke3RoaXMubG9nRmlsZX0uJHt0aW1lc3RhbXB9YDtcbiAgICAgIFxuICAgICAgYXdhaXQgZnMucmVuYW1lKHRoaXMubG9nRmlsZSwgcm90YXRlZEZpbGUpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgbmV3IHN0cmVhbVxuICAgICAgdGhpcy5maWxlU3RyZWFtID0gY3JlYXRlV3JpdGVTdHJlYW0odGhpcy5sb2dGaWxlLCB7IGZsYWdzOiAnYScgfSk7XG4gICAgICB0aGlzLmN1cnJlbnRMb2dTaXplID0gMDtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgb2xkIGxvZ3NcbiAgICAgIGF3YWl0IHRoaXMuY2xlYW51cE9sZExvZ3MoKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMb2cgcm90YXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjbGVhbnVwT2xkTG9ncygpIHtcbiAgICBpZiAoIXRoaXMubG9nRmlsZSB8fCAhdGhpcy5yZXRlbnRpb24pIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgbG9nRGlyID0gcGF0aC5kaXJuYW1lKHRoaXMubG9nRmlsZSk7XG4gICAgICBjb25zdCBiYXNlTmFtZSA9IHBhdGguYmFzZW5hbWUodGhpcy5sb2dGaWxlKTtcbiAgICAgIFxuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKGxvZ0Rpcik7XG4gICAgICBjb25zdCBsb2dGaWxlcyA9IGZpbGVzXG4gICAgICAgIC5maWx0ZXIoZmlsZSA9PiBmaWxlLnN0YXJ0c1dpdGgoYmFzZU5hbWUpICYmIGZpbGUgIT09IGJhc2VOYW1lKVxuICAgICAgICAubWFwKGZpbGUgPT4gcGF0aC5qb2luKGxvZ0RpciwgZmlsZSkpO1xuICAgICAgXG4gICAgICBjb25zdCBjdXRvZmZEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIGN1dG9mZkRhdGUuc2V0RGF0ZShjdXRvZmZEYXRlLmdldERhdGUoKSAtIHRoaXMucmV0ZW50aW9uKTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGxvZ0ZpbGVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBmcy5zdGF0KGZpbGUpO1xuICAgICAgICAgIGlmIChzdGF0cy5tdGltZSA8IGN1dG9mZkRhdGUpIHtcbiAgICAgICAgICAgIGF3YWl0IGZzLnVubGluayhmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGVycm9ycyBmb3IgaW5kaXZpZHVhbCBmaWxlc1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTG9nIGNsZWFudXAgZmFpbGVkOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBlcnJvcihtZXNzYWdlLCBtZXRhZGF0YSA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMubG9nKCdlcnJvcicsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIHdhcm4obWVzc2FnZSwgbWV0YWRhdGEgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvZygnd2FybicsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIGluZm8obWVzc2FnZSwgbWV0YWRhdGEgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvZygnaW5mbycsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2UsIG1ldGFkYXRhID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5sb2coJ2RlYnVnJywgbWVzc2FnZSwgbWV0YWRhdGEpO1xuICB9XG5cbiAgdHJhY2UobWVzc2FnZSwgbWV0YWRhdGEgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvZygndHJhY2UnLCBtZXNzYWdlLCBtZXRhZGF0YSk7XG4gIH1cblxuICBjaGlsZChtZXRhZGF0YSA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBDaGlsZExvZ2dlcih0aGlzLCBtZXRhZGF0YSk7XG4gIH1cblxuICBjcmVhdGVSZXF1ZXN0TG9nZ2VyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCByZXF1ZXN0SWQgPSByZXEuY29ycmVsYXRpb25JZCB8fCAndW5rbm93bic7XG4gICAgXG4gICAgY29uc3QgcmVxdWVzdExvZ2dlciA9IHRoaXMuY2hpbGQoe1xuICAgICAgcmVxdWVzdElkLFxuICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgdXJsOiByZXEudXJsLFxuICAgICAgdXNlckFnZW50OiByZXEuZ2V0KCdVc2VyLUFnZW50JyksXG4gICAgICBpcDogcmVxLmlwXG4gICAgfSk7XG4gICAgXG4gICAgcmVxdWVzdExvZ2dlci5pbmZvKCdSZXF1ZXN0IHN0YXJ0ZWQnKTtcbiAgICBcbiAgICBjb25zdCBvcmlnaW5hbFNlbmQgPSByZXMuc2VuZDtcbiAgICByZXMuc2VuZCA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgcmVxdWVzdExvZ2dlci5pbmZvKCdSZXF1ZXN0IGNvbXBsZXRlZCcsIHtcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICByZXNwb25zZVNpemU6IEJ1ZmZlci5ieXRlTGVuZ3RoKGJvZHkgfHwgJycpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIG9yaWdpbmFsU2VuZC5jYWxsKHRoaXMsIGJvZHkpO1xuICAgIH07XG4gICAgXG4gICAgcmVxLmxvZ2dlciA9IHJlcXVlc3RMb2dnZXI7XG4gICAgbmV4dCgpO1xuICB9XG5cbiAgYXN5bmMgZ2V0TG9nU3RhdHMoKSB7XG4gICAgY29uc3Qgc3RhdHMgPSB7XG4gICAgICBsZXZlbDogdGhpcy5sZXZlbCxcbiAgICAgIGZvcm1hdDogdGhpcy5mb3JtYXQsXG4gICAgICBkZXN0aW5hdGlvbnM6IHRoaXMuZGVzdGluYXRpb25zLFxuICAgICAgZmlsZUxvZ2dpbmc6ICEhdGhpcy5sb2dGaWxlXG4gICAgfTtcbiAgICBcbiAgICBpZiAodGhpcy5sb2dGaWxlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmaWxlU3RhdHMgPSBhd2FpdCBmcy5zdGF0KHRoaXMubG9nRmlsZSk7XG4gICAgICAgIHN0YXRzLmxvZ0ZpbGUgPSB7XG4gICAgICAgICAgcGF0aDogdGhpcy5sb2dGaWxlLFxuICAgICAgICAgIHNpemU6IGZpbGVTdGF0cy5zaXplLFxuICAgICAgICAgIG1vZGlmaWVkOiBmaWxlU3RhdHMubXRpbWVcbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHN0YXRzLmxvZ0ZpbGUgPSB7XG4gICAgICAgICAgcGF0aDogdGhpcy5sb2dGaWxlLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBzdGF0cztcbiAgfVxuXG4gIHNldExldmVsKGxldmVsKSB7XG4gICAgaWYgKHRoaXMubGV2ZWxzLmhhc093blByb3BlcnR5KGxldmVsKSkge1xuICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgICAgdGhpcy5pbmZvKCdMb2cgbGV2ZWwgY2hhbmdlZCcsIHsgbmV3TGV2ZWw6IGxldmVsIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbG9nIGxldmVsOiAke2xldmVsfS4gVmFsaWQgbGV2ZWxzOiAke09iamVjdC5rZXlzKHRoaXMubGV2ZWxzKS5qb2luKCcsICcpfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNsb3NlKCkge1xuICAgIGlmICh0aGlzLmZpbGVTdHJlYW0pIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICB0aGlzLmZpbGVTdHJlYW0uZW5kKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmZpbGVTdHJlYW0gPSBudWxsO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgQ2hpbGRMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIG1ldGFkYXRhID0ge30pIHtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gIH1cblxuICBsb2cobGV2ZWwsIG1lc3NhZ2UsIGFkZGl0aW9uYWxNZXRhZGF0YSA9IHt9KSB7XG4gICAgY29uc3QgY29tYmluZWRNZXRhZGF0YSA9IHsgLi4udGhpcy5tZXRhZGF0YSwgLi4uYWRkaXRpb25hbE1ldGFkYXRhIH07XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LmxvZyhsZXZlbCwgbWVzc2FnZSwgY29tYmluZWRNZXRhZGF0YSk7XG4gIH1cblxuICBlcnJvcihtZXNzYWdlLCBtZXRhZGF0YSA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMubG9nKCdlcnJvcicsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIHdhcm4obWVzc2FnZSwgbWV0YWRhdGEgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvZygnd2FybicsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIGluZm8obWVzc2FnZSwgbWV0YWRhdGEgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvZygnaW5mbycsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2UsIG1ldGFkYXRhID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5sb2coJ2RlYnVnJywgbWVzc2FnZSwgbWV0YWRhdGEpO1xuICB9XG5cbiAgdHJhY2UobWVzc2FnZSwgbWV0YWRhdGEgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvZygndHJhY2UnLCBtZXNzYWdlLCBtZXRhZGF0YSk7XG4gIH1cblxuICBjaGlsZChhZGRpdGlvbmFsTWV0YWRhdGEgPSB7fSkge1xuICAgIGNvbnN0IGNvbWJpbmVkTWV0YWRhdGEgPSB7IC4uLnRoaXMubWV0YWRhdGEsIC4uLmFkZGl0aW9uYWxNZXRhZGF0YSB9O1xuICAgIHJldHVybiBuZXcgQ2hpbGRMb2dnZXIodGhpcy5wYXJlbnQsIGNvbWJpbmVkTWV0YWRhdGEpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTG9nZ2VyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUNDLFFBQVE7QUFDakMsTUFBTUMsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU07RUFBRUc7QUFBa0IsQ0FBQyxHQUFHSCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQzNDLE1BQU07RUFBRUk7QUFBVSxDQUFDLEdBQUdKLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFFdkMsTUFBTUssTUFBTSxDQUFDO0VBQ1hDLFdBQVdBLENBQUNDLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRTtJQUN4QixJQUFJLENBQUNDLEtBQUssR0FBR0QsT0FBTyxDQUFDQyxLQUFLLElBQUksTUFBTTtJQUNwQyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRSxNQUFNLElBQUksTUFBTTtJQUN0QyxJQUFJLENBQUNDLFlBQVksR0FBR0gsT0FBTyxDQUFDRyxZQUFZLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDdkQsSUFBSSxDQUFDQyxPQUFPLEdBQUdKLE9BQU8sQ0FBQ0ksT0FBTyxJQUFJLElBQUk7SUFDdEMsSUFBSSxDQUFDQyxPQUFPLEdBQUdMLE9BQU8sQ0FBQ0ssT0FBTyxJQUFJLE9BQU87SUFDekMsSUFBSSxDQUFDQyxTQUFTLEdBQUdOLE9BQU8sQ0FBQ00sU0FBUyxJQUFJLEVBQUU7SUFFeEMsSUFBSSxDQUFDQyxN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